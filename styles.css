/*
  Enhanced Gmail UI
  @xilantra
  https://github.com/Xilantra/enhanced-gmail
  Refactored: Aug 13 2025
*/

/* =======================
   VARIABLES
======================= */
:root {
  --color-light-bg: #ffffff;
  --color-dark-bg: #000000;
  --color-light-hover: #dfdfdf;
  --color-dark-hover: #111111;
  --color-dark-hover-alt: #2c2c2c;
  --color-light-icon: #001d35;
  --color-dark-text: rgb(226, 226, 226);
  --opacity-icon: 0.6;
  --opacity-icon-hover: 1;
  --transition-speed: 0.24s;
}

/* =======================
   SEARCH BAR
======================= */
/* Light mode */
header.gb_nd.gb_ud #aso_search_form_anchor,
header.gb_Ia.gb_ab.gb_Zd.gb_kd.gb_nd.gb_Wc:not(.gb_i) #aso_search_form_anchor {
  background-color: var(--color-light-bg) !important;
}

/* Dark mode */
header.gb_i.gb_kd.gb_nd.gb_ud #aso_search_form_anchor,
header.gb_i.gb_kd.gb_nd.gb_Wc #aso_search_form_anchor {
  background: var(--color-dark-bg) !important;
}

/* Dark mode input text */
header[role="banner"] [placeholder="Search in mail"] {
  color: var(--color-dark-text) !important;
}

/* Center placeholder text, align left on focus */
header[role="banner"] [placeholder="Search in mail"],
#gb [placeholder="Search mail"] {
  text-align: center;
}
header[role="banner"] [placeholder="Search in mail"]:focus,
#gb [placeholder="Search mail"]:focus,
#gb [placeholder="Search in mail"]:focus,
input#gs_taif50 {
  text-align: left !important;
}

/* Suggestion input opacity */
input#gs_taif50 {
  opacity: 0.4;
}

/* Center search form */
.nH .qp .aJf[method="get"][role="search"] {
  margin: 0 auto !important;
}

/* =======================
   ICONS & UI CONTROLS
======================= */
header.gb_oa.gb_1a.gb_Qe.gb_Mc:not(header.gb_oa.gb_1a.gb_Qe.gb_4.gb_Mc) svg {
  color: var(--color-light-icon) !important;
}

.Yb.dIH7rb.bax {
  background-color: transparent !important;
}

[aria-label="Advanced search options"],
.Yb.dIH7rb,
[data-tooltip="Settings"] {
  opacity: var(--opacity-icon);
}
[aria-label="Advanced search options"]:hover,
.Yb.dIH7rb:hover,
[data-tooltip="Settings"]:hover {
  opacity: var(--opacity-icon-hover);
}
/* =======================
   HIDDEN ELEMENTS
======================= */
/* Top nav items */
#aso_search_form_anchor:has([aria-label="Close\ search"] svg),
.gb_pd.gb_zd.gb_Ie.gb_Ue.gb_0e,
.aeN.WR.nH.oy8Mbf.bhZ[role=""] {
  visibility: hidden;
  opacity: 0;
}

/* Hide unused elements */
.brC-dA-I.aT5-aOt-I-Jp,
.aeN.WR.a6o.anZ.nH.oy8Mbf,
.Yc,
.zo,
[aria-label="Google apps"],
.gb_Vd.gb_Xa.gb_Kd.gb_Zd .gb_Sc {
  display: none !important;
}

/* =======================
   COMPOSE BUTTON
======================= */
/* Design 1: Long button (default) */
.z0>.L3 {
  width: 100%;
  margin-right: 12px !important;
  transform: scale(1) translateY(0px);
  transition: transform var(--transition-speed) ease-in-out;
}
.z0>.L3:hover {
  transform: scale(1.05);
}

/* Design 2: Rounded button (uncomment to use) */
/*
.z0>.L3 {
  font-size: 0 !important;
  padding-right: 4px !important;
  border-radius: 50% !important;
}
*/

/* =======================
   NAVIGATION & TOP BAR
======================= */
.gb_pd.gb_zd.gb_Ie.gb_Ue.gb_0e,
#aso_search_form_anchor:has([aria-label="Close\ search"] svg) {
  transform: translateY(8px);
}
header[role="banner"]:hover #aso_search_form_anchor:has([aria-label="Close\ search"] svg),
#gb:hover .gb_pd.gb_zd.gb_Ie.gb_Ue.gb_0e {
  opacity: 1;
  visibility: visible;
  transform: translateY(0px);
}

/* Settings & status icons container */
.gb_qe.gb_oe,
.gb_ve.gb_te {
  min-width: 118px;
  display: flex;
  justify-content: end;
  align-items: center;
}

/* =======================
   EMAIL LIST
======================= */
/* Hover effects */
.ae4.aTP.aDM.nH.oy8Mbf .zA:hover,
.ae4.aDM.nH.oy8Mbf .zA:hover {
  box-shadow: none !important;
}

/* Dark mode unread */
.ae4.aTP.aDM.nH.oy8Mbf .zA.zE.aqw {
  background-color: var(--color-dark-hover) !important;
}

/* Light mode unread */
.ae4.aDM.nH.oy8Mbf:not(.Nu.tf.aZ6 .ae4.aDM.nH.oy8Mbf) .zA.yO.aqw,
.ae4.aDM.nH.oy8Mbf:not(.Nu.tf.aZ6 .ae4.aDM.nH.oy8Mbf) .zA.zE.aqw {
  background-color: var(--color-light-hover) !important;
}

/* Dark mode read hover */
.Nu.tf.aZ6 .ae4.aDM.nH.oy8Mbf .zA.yO:hover {
  background-color: var(--color-dark-hover-alt) !important;
}

/* =======================
   TRANSITIONS
======================= */
.nH.aUx,
.gb_Ud.gb_Ne .gb_Se button,
.Yb.dIH7rb,
[aria-label="Advanced search options"],
[data-tooltip="Settings"],
.z0>.L3,
.gb_pd.gb_zd.gb_Ie.gb_Ue.gb_0e,
#aso_search_form_anchor:has([aria-label="Close\ search"] svg),
.gb_Sc,
.bhZ+.bkK,
.bkK,
.zA {
  transition: all var(--transition-speed) ease-in-out;
}
